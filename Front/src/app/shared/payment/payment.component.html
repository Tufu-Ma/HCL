<app-header-navbar></app-header-navbar>

<div class="container">
  <div class="row">
    <div class="col-10 offset-1 page-box">
      
      <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
      <div class="header-section">
        <h2 class="main-title">üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô üí≥</h2>
        <p class="sub-title">üéÆ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢! ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏∏‡∏î‡∏Ñ‡∏∏‡πâ‡∏° üéÆ</p>
        <div class="header-decoration">
          <div class="glow-line"></div>
        </div>
      </div>

      <!-- ‡∏Å‡∏£‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏Å -->
      <div class="payment-container">
        
        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô -->
        <div class="promotion-summary" *ngIf="selectedPromotion">
          <h3 class="summary-title">ÔøΩÔ∏è ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠</h3>
          <div class="promotion-card-summary">
            <div class="image-container">
              <img [src]="selectedPromotion.imageUrl" [alt]="selectedPromotion.title" class="promotion-image-small">
              <div class="image-glow"></div>
            </div>
            <div class="promotion-details">
              <h4 class="promotion-name">{{ selectedPromotion.title }}</h4>
              <p class="promotion-subtitle-small">{{ selectedPromotion.subtitle }}</p>
              
              <!-- ‡∏£‡∏≤‡∏Ñ‡∏≤ -->
              <div class="price-summary">
                <span class="current-price-large">{{ selectedPromotion.price }}</span>
                <span class="original-price-small" *ngIf="selectedPromotion.originalPrice">{{ selectedPromotion.originalPrice }}</span>
                <span class="savings-amount" *ngIf="selectedPromotion.originalPrice">
                  ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î {{ calculateSavings(selectedPromotion.originalPrice, selectedPromotion.price) }} ‡∏ö‡∏≤‡∏ó!
                </span>
              </div>

              <!-- ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏° -->
              <div class="bonus-summary" *ngIf="selectedPromotion.bonusItems">
                <div class="bonus-title-small">üéÅ ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©:</div>
                <ul class="bonus-list-small">
                  <li *ngFor="let bonus of selectedPromotion.bonusItems.slice(0, 3)" class="bonus-item-animate">{{ bonus }}</li>
                  <li *ngIf="selectedPromotion.bonusItems.length > 3" class="more-items">
                    <span class="sparkle">‚ú®</span> ‡πÅ‡∏•‡∏∞‡∏≠‡∏µ‡∏Å {{ selectedPromotion.bonusItems.length - 3 }} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©...
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
        <div class="payment-form">
          <h3 class="form-title">üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
          <div class="form-decoration">
            <div class="pulse-ring"></div>
          </div>
          
          <form (ngSubmit)="onPayment()">
            <!-- ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• -->
            <div class="form-group">
              <label for="customerName">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label>
              <input 
                type="text" 
                id="customerName" 
                [(ngModel)]="paymentData.customerName"
                name="customerName"
                class="form-control" 
                placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"
                required>
            </div>

            <!-- ‡∏≠‡∏µ‡πÄ‡∏°‡∏• -->
            <div class="form-group">
              <label for="email">‡∏≠‡∏µ‡πÄ‡∏°‡∏• *</label>
              <input 
                type="email" 
                id="email"
                [(ngModel)]="paymentData.email"
                name="email" 
                class="form-control" 
                placeholder="example@email.com"
                required>
            </div>

            <!-- ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå -->
            <div class="form-group">
              <label for="phone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå *</label>
              <input 
                type="tel" 
                id="phone"
                [(ngModel)]="paymentData.phone"
                name="phone" 
                class="form-control" 
                placeholder="08X-XXX-XXXX"
                required>
            </div>

            <!-- ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
            <div class="form-group">
              <label>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</label>
              <div class="payment-methods">
                <div class="payment-method-item">
                  <input 
                    type="radio" 
                    id="credit-card" 
                    value="credit-card"
                    [(ngModel)]="paymentData.paymentMethod"
                    name="paymentMethod">
                  <label for="credit-card">
                    <span class="payment-icon">üí≥</span>
                    ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÄ‡∏î‡∏ö‡∏¥‡∏ï
                  </label>
                </div>
                <div class="payment-method-item">
                  <input 
                    type="radio" 
                    id="bank-transfer" 
                    value="bank-transfer"
                    [(ngModel)]="paymentData.paymentMethod"
                    name="paymentMethod">
                  <label for="bank-transfer">
                    <span class="payment-icon">üè¶</span>
                    ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
                  </label>
                </div>
                <div class="payment-method-item">
                  <input 
                    type="radio" 
                    id="e-wallet" 
                    value="e-wallet"
                    [(ngModel)]="paymentData.paymentMethod"
                    name="paymentMethod">
                  <label for="e-wallet">
                    <span class="payment-icon">üì±</span>
                    E-Wallet (TrueMoney, PromptPay)
                  </label>
                </div>
              </div>
            </div>

            <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ -->
            <div class="action-buttons">
              <button type="button" class="btn-back" (click)="goBack()">
                <span class="btn-icon">‚Üê</span>
                <span>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</span>
              </button>
              <button type="submit" class="btn-pay">
                <span class="btn-text">üéÆ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ {{ selectedPromotion?.price }} üéÆ</span>
                <span class="btn-shine"></span>
                <div class="btn-glow"></div>
              </button>
            </div>
          </form>
        </div>

      </div>

    </div>
  </div>
</div>

<app-footer-navbar></app-footer-navbar>