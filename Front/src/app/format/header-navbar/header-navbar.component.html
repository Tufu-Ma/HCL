<nav class="topbar fixed-top p-0">
  <div class="topbar__inner">
    <a class="brand" routerLink="/home">
      <img src="/assets/logo.png" alt="logo" />
    </a>

    <ul class="menu">
      <li><a routerLink="/termgame" class="text-nowrap">เติมเกม UID</a></li>
      <li><a routerLink="/giftcard" class="text-nowrap">บัตรกำนัล/บัตรเติมเกม</a></li>
      <li><a routerLink="/subscription" class="text-nowrap">ต่อสมาชิกแอพ</a></li>
      <li><a routerLink="/promotion" class="text-nowrap">โปรโมชั่น</a></li>
      <li><a routerLink="/about-me" class="text-nowrap">เกี่ยวกับเรา</a></li>

      <!-- ✅ เฉพาะ admin -->
      
    </ul>

    <div class="right d-flex align-items-center gap-3">
      <form class="search" role="search">
        <input type="search" placeholder="ค้นหา..." [(ngModel)]="searchTerm" (input)="onSearch($event)" name="search" />
      </form>

      <!-- ✅ ถ้ายังไม่ได้ login -->
      <a *ngIf="!isLoggedIn" class="btn-login" routerLink="/login">
        เข้าสู่ระบบ
      </a>

      <!-- ✅ ถ้า login แล้ว -->
      <div *ngIf="isLoggedIn" class="position-relative">
        <button class="btn-profile" (click)="toggleMenu()">
  <img
    src="assets/default-profile.png"
    alt="profile"
    class="profile-pic"
  />
  <span class="username ms-2">{{ username || 'ผู้ใช้ทั่วไป' }}</span>
</button>


        <!-- เมนู dropdown -->
        <ul
          *ngIf="menuOpen"
          class="dropdown-menu show position-absolute end-0 mt-2"
          style="display: block; z-index: 1050;"
        >
          <li><a class="dropdown-item" routerLink="/profile">โปรไฟล์</a></li>
          <li *ngIf="isAdmin"><a class="dropdown-item text-warning" routerLink="/addgame">จัดการเกม</a></li>
          <li><hr class="dropdown-divider" /></li>
          <li><button class="dropdown-item text-danger" (click)="logout()">ออกจากระบบ</button></li>
        </ul>
      </div>
    </div>
  </div>
</nav>
